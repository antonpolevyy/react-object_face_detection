$(".subscribe").on("click",function(e){e.preventDefault();const s=$("#email").val().toLowerCase();/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(s)?$.ajax({url: 'https://overflowjs.com' + "/subscriber",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({email:s}),type:"POST",success:function(e){$("#emailerr").css("display","block"),"string"==typeof e.msg?($("#emailerr").removeClass("text-danger").addClass("text-success").text(e.msg),setTimeout(function(){$("#emailerr").css("display","none"),$("#emailerr").removeClass("text-success").addClass("text-danger").text(""),$("#email").val("")},2e3)):($("#emailerr").text(e.msg.response.body.detail),setTimeout(function(){$("#emailerr").css("display","none"),$("#emailerr").text(""),$("#email").val("")},4e3))},error:function(e){console.log(e)}}):($("#emailerr").css("display","block"),$("#emailerr").text("Invalid Email address"),setTimeout(function(){$("#emailerr").css("display","none"),$("#emailerr").text("")},1e3))}),$(window).load(function(){setTimeout(function(){null==localStorage.getItem("modalAction")&&$("#subscriberModal").modal("show")},7e3)}),$(".modal-subscribe").on("click",function(e){e.preventDefault();const s=$("#emailModal").val().toLowerCase();/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(s)?$.ajax({url: 'https://overflowjs.com' + "/subscriber",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({email:s}),type:"POST",success:e=>{console.log({res:e}),$("#emailModalErr").css("display","block"),"string"==typeof e.msg?($("#emailModalErr").removeClass("text-danger").addClass("text-success").text(e.msg),setTimeout(function(){localStorage.setItem("modalAction",!0),$("#subscriberModal").modal("toggle"),$("#emailModalErr").css("display","none"),$("#emailModalErr").removeClass("text-success").addClass("text-danger").text(""),$("#email").val("")},2e3)):($("#emailModalErr").text(e.msg.response.body.detail),setTimeout(function(){$("#emailModalErr").css("display","none"),$("#emailModalErr").text(""),$("#email").val("")},4e3))},error:e=>{console.log(e)}}):($("#emailModalErr").css("display","block"),$("#emailModalErr").text("Invalid Email address"),setTimeout(function(){$("#emailModalErr").css("display","none"),$("#emailModalErr").text("")},1e3))});